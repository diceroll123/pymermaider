(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,24420,e=>{"use strict";var t=e.i(79515),r=e.i(68797),n=e.i(61838),a=e.i(85395),i=e.i(88361),o=class{regexps;constructor(e,t={}){this.patterns=e,this.options=t;const{forgiving:r=!1,cache:n,regexConstructor:a}=t;if(!a)throw Error("Option `regexConstructor` is not provided");this.regexps=e.map(e=>{if("string"!=typeof e)return e;let t=n?.get(e);if(t){if(t instanceof RegExp)return t;if(r)return null;throw t}try{let t=a(e);return n?.set(e,t),t}catch(t){if(n?.set(e,t),r)return null;throw t}})}findNextMatchSync(e,t,r){let n="string"==typeof e?e:e.content,a=[];function i(e,t,r=0){return{index:e,captureIndices:t.indices.map(e=>null==e?{start:0xffffffff,end:0xffffffff,length:0}:{start:e[0]+r,end:e[1]+r,length:e[1]-e[0]})}}for(let e=0;e<this.regexps.length;e++){let r=this.regexps[e];if(r)try{r.lastIndex=t;let o=r.exec(n);if(!o)continue;if(o.index===t)return i(e,o,0);a.push([e,o,0])}catch(e){if(this.options.forgiving)continue;throw e}}if(a.length){let e=Math.min(...a.map(e=>e[1].index));for(let[t,r,n]of a)if(r.index===e)return i(t,r,n)}return null}};function s(e){if(1!=[...e].length)throw Error(`Expected "${e}" to be a single code point`);return e.codePointAt(0)}let l=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]),u=String.raw;function c(e,t){if(null==e)throw Error(t??"Value expected");return e}let p=u`\[\^?`,d=`c.? | C(?:-.?)?|${u`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${u`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${u`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${u`o\{[^\}]*\}?`}|${u`\d{1,3}`}`,g=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,h=RegExp(u`
  \\ (?:
    ${d}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${g.source})+
  | ${p}
  | .
`.replace(/\s+/g,""),"gsu"),f=RegExp(u`
  \\ (?:
    ${d}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${p}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function m(e,{inCharClass:t}){let r=e[1];if("c"===r||"C"===r){var n,a=e;let t="c"===a[1]?a[2]:a[3];if(!t||!/[A-Za-z]/.test(t))throw Error(`Unsupported control character "${a}"`);return C(s(t.toUpperCase())-64,a)}if("dDhHsSwW".includes(r)){let t;return w({d:"digit",h:"hex",s:"space",w:"word"}[t=(n=e)[1].toLowerCase()],n,{negate:n[1]!==t})}if(e.startsWith(u`\o{`))throw Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(3===e.length)throw Error(`Incomplete or invalid Unicode property "${e}"`);return function(e){let{p:t,neg:r,value:n}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(e).groups;return w("property",e,{value:n,negate:"P"===t&&!r||"p"===t&&!!r})}(e)}if(/^\\x[89A-Fa-f]\p{AHex}/u.test(e))try{let t=e.split(/\\x/).slice(1).map(e=>parseInt(e,16)),r=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(t)),n=new TextEncoder;return[...r].map(e=>{let t=[...n.encode(e)].map(e=>`\\x${e.toString(16)}`).join("");return C(s(e),t)})}catch{throw Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if("u"===r||"x"===r)return C(function(e){if(/^(?:\\u(?!\p{AHex}{4})|\\x(?!\p{AHex}{1,2}|\{\p{AHex}{1,8}\}))/u.test(e))throw Error(`Incomplete or invalid escape "${e}"`);return parseInt("{"===e[2]?/^\\x\{\s*(?<hex>\p{AHex}+)/u.exec(e).groups.hex:e.slice(2),16)}(e),e);if(A.has(r))return C(A.get(r),e);if(/\d/.test(r))return{type:"EscapedNumber",inCharClass:t,raw:e};if("\\"===e)throw Error(u`Incomplete escape "\"`);if("M"===r)throw Error(`Unsupported meta "${e}"`);if(2==[...e].length)return C(e.codePointAt(1),e);throw Error(`Unexpected escape "${e}"`)}function y(e,t){return{type:"Assertion",kind:e,raw:t}}function b(e){return{type:"Backreference",raw:e}}function C(e,t){return{type:"Character",value:e,raw:t}}function k(e,t){return{type:"CharacterClassOpen",negate:e,raw:t}}function w(e,t,r={}){return{type:"CharacterSet",kind:e,...r,raw:t}}function x(e,t,r={}){return"keep"===e?{type:"Directive",kind:e,raw:t}:{type:"Directive",kind:e,flags:c(r.flags),raw:t}}function S(e,t,r={}){return{type:"GroupOpen",kind:e,...r,raw:t}}let E=new Set(["COUNT","CMP","ERROR","FAIL","MAX","MISMATCH","SKIP","TOTAL_COUNT"]),A=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]);function $(e){let t=null,r,n;if("{"===e[0]){let{minStr:a,maxStr:i}=/^\{(?<minStr>\d*)(?:,(?<maxStr>\d*))?/.exec(e).groups;if(+a>1e5||i&&+i>1e5)throw Error("Quantifier value unsupported in Oniguruma");if((r=+a)>(n=void 0===i?+a:""===i?1/0:+i)&&(t="possessive",[r,n]=[n,r]),e.endsWith("?")){if("possessive"===t)throw Error('Unsupported possessive interval quantifier chain with "?"');t="lazy"}else t||(t="greedy")}else r=+("+"===e[0]),n="?"===e[0]?1:1/0,t="+"===e[1]?"possessive":"?"===e[1]?"lazy":"greedy";return{type:"Quantifier",kind:t,min:r,max:n,raw:e}}function I(e){let t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),e.includes("x")&&(t.extended=!0),Object.keys(t).length?t:null}function v(e,t){if(!Array.isArray(e.body))throw Error("Expected node with body array");if(1!==e.body.length)return!1;let r=e.body[0];return!t||Object.keys(t).every(e=>t[e]===r[e])}let T=new Set(["AbsenceFunction","Backreference","CapturingGroup","Character","CharacterClass","CharacterSet","Group","Quantifier","Subroutine"]);function _(e,t={}){var r;let n={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t,rules:{captureGroup:!1,singleline:!1,...t.rules}},a=function(e,t={}){let r={flags:"",...t,rules:{captureGroup:!1,singleline:!1,...t.rules}};if("string"!=typeof e)throw Error("String expected as pattern");let n=function(e){let t={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1,textSegmentMode:null};for(let r=0;r<e.length;r++){let n=e[r];if(!"imxDPSWy".includes(n))throw Error(`Invalid flag "${n}"`);if("y"===n){if(!/^y{[gw]}/.test(e.slice(r)))throw Error('Invalid or unspecified flag "y" mode');t.textSegmentMode="g"===e[r+2]?"grapheme":"word",r+=3;continue}t[({i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"})[n]]=!0}return t}(r.flags),a=[n.extended],i={captureGroup:r.rules.captureGroup,getCurrentModX:()=>a.at(-1),numOpenGroups:0,popModX(){a.pop()},pushModX(e){a.push(e)},replaceCurrentModX(e){a[a.length-1]=e},singleline:r.rules.singleline},o=[],c;for(h.lastIndex=0;c=h.exec(e);){let t=function(e,t,r,n){let[a,i]=r;if("["===r||"[^"===r){let e=function(e,t,r){let n=[k("^"===t[1],t)],a=1,i;for(f.lastIndex=r;i=f.exec(e);){let e=i[0];if("["===e[0]&&":"!==e[1])a++,n.push(k("^"===e[1],e));else if("]"===e){if("CharacterClassOpen"===n.at(-1).type)n.push(C(93,e));else if(a--,n.push({type:"CharacterClassClose",raw:e}),!a)break}else{let t=function(e){if("\\"===e[0])return m(e,{inCharClass:!0});if("["===e[0]){let t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!l.has(t.groups.name))throw Error(`Invalid POSIX class "${e}"`);return w("posix",e,{value:t.groups.name,negate:!!t.groups.negate})}return"-"===e?{type:"CharacterClassHyphen",raw:e}:"&&"===e?{type:"CharacterClassIntersector",raw:e}:C(s(e),e)}(e);Array.isArray(t)?n.push(...t):n.push(t)}}return{tokens:n,lastIndex:f.lastIndex||e.length}}(t,r,n);return{tokens:e.tokens,lastIndex:e.lastIndex}}if("\\"===a){if("AbBGyYzZ".includes(i))return{token:y(r,r)};if(/^\\g[<']/.test(r)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(r))throw Error(`Invalid group name "${r}"`);return{token:{type:"Subroutine",raw:r}}}if(/^\\k[<']/.test(r)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(r))throw Error(`Invalid group name "${r}"`);return{token:b(r)}}if("K"===i)return{token:x("keep",r)};if("N"===i||"R"===i)return{token:w("newline",r,{negate:"N"===i})};if("O"===i)return{token:w("any",r)};if("X"===i)return{token:w("text_segment",r)};let e=m(r,{inCharClass:!1});return Array.isArray(e)?{tokens:e}:{token:e}}if("("===a){if("*"===i)return{token:function(e){let t=/\(\*(?<name>[A-Za-z_]\w*)?(?:\[(?<tag>(?:[A-Za-z_]\w*)?)\])?(?:\{(?<args>[^}]*)\})?\)/.exec(e);if(!t)throw Error(`Incomplete or invalid named callout "${e}"`);let{name:r,tag:n,args:a}=t.groups;if(!r)throw Error(`Invalid named callout "${e}"`);if(""===n)throw Error(`Named callout tag with empty value not allowed "${e}"`);let i=a?a.split(",").filter(e=>""!==e).map(e=>/^[+-]?\d+$/.test(e)?+e:e):[],[o,s,l]=i,u=E.has(r)?r.toLowerCase():"custom";switch(u){case"fail":case"mismatch":case"skip":if(i.length>0)throw Error(`Named callout arguments not allowed "${i}"`);break;case"error":if(i.length>1)throw Error(`Named callout allows only one argument "${i}"`);if("string"==typeof o)throw Error(`Named callout argument must be a number "${o}"`);break;case"max":if(!i.length||i.length>2)throw Error(`Named callout must have one or two arguments "${i}"`);if("string"==typeof o&&!/^[A-Za-z_]\w*$/.test(o))throw Error(`Named callout argument one must be a tag or number "${o}"`);if(2===i.length&&("number"==typeof s||!/^[<>X]$/.test(s)))throw Error(`Named callout optional argument two must be '<', '>', or 'X' "${s}"`);break;case"count":case"total_count":if(i.length>1)throw Error(`Named callout allows only one argument "${i}"`);if(1===i.length&&("number"==typeof o||!/^[<>X]$/.test(o)))throw Error(`Named callout optional argument must be '<', '>', or 'X' "${o}"`);break;case"cmp":if(3!==i.length)throw Error(`Named callout must have three arguments "${i}"`);if("string"==typeof o&&!/^[A-Za-z_]\w*$/.test(o))throw Error(`Named callout argument one must be a tag or number "${o}"`);if("number"==typeof s||!/^(?:[<>!=]=|[<>])$/.test(s))throw Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${s}"`);if("string"==typeof l&&!/^[A-Za-z_]\w*$/.test(l))throw Error(`Named callout argument three must be a tag or number "${l}"`);break;case"custom":throw Error(`Undefined callout name "${r}"`);default:throw Error(`Unexpected named callout kind "${u}"`)}return{type:"NamedCallout",kind:u,tag:n??null,arguments:a?.split(",")??null,raw:e}}(r)};if("(?{"===r)throw Error(`Unsupported callout "${r}"`);if(r.startsWith("(?#")){if(")"!==t[n])throw Error('Unclosed comment group "(?#"');return{lastIndex:n+1}}if(/^\(\?[-imx]+[:)]$/.test(r))return{token:function(e,t){let{on:r,off:n}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(e).groups;n??="";let a=(t.getCurrentModX()||r.includes("x"))&&!n.includes("x"),i=I(r),o=I(n),s={};if(i&&(s.enable=i),o&&(s.disable=o),e.endsWith(")"))return t.replaceCurrentModX(a),x("flags",e,{flags:s});if(e.endsWith(":"))return t.pushModX(a),t.numOpenGroups++,S("group",e,{...(i||o)&&{flags:s}});throw Error(`Unexpected flag modifier "${e}"`)}(r,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,"("===r&&!e.captureGroup||"(?:"===r)return{token:S("group",r)};if("(?>"===r)return{token:S("atomic",r)};if("(?="===r||"(?!"===r||"(?<="===r||"(?<!"===r)return{token:S("<"===r[2]?"lookbehind":"lookahead",r,{negate:r.endsWith("!")})};if("("===r&&e.captureGroup||r.startsWith("(?<")&&r.endsWith(">")||r.startsWith("(?'")&&r.endsWith("'"))return{token:S("capturing",r,{..."("!==r&&{name:r.slice(3,-1)}})};if(r.startsWith("(?~")){if("(?~|"===r)throw Error(`Unsupported absence function kind "${r}"`);return{token:S("absence_repeater",r)}}throw"(?("===r?Error(`Unsupported conditional "${r}"`):Error(`Invalid or unsupported group option "${r}"`)}if(")"===r){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw Error('Unmatched ")"');return{token:{type:"GroupClose",raw:r}}}if(e.getCurrentModX()){if("#"===r){let e=t.indexOf(`
`,n);return{lastIndex:-1===e?t.length:e}}if(/^\s$/.test(r)){let e=/\s+/y;return e.lastIndex=n,{lastIndex:e.exec(t)?e.lastIndex:n}}}return"."===r?{token:w("dot",r)}:"^"===r||"$"===r?{token:y(e.singleline?({"^":u`\A`,$:u`\Z`})[r]:r,r)}:"|"===r?{token:{type:"Alternator",raw:r}}:g.test(r)?{tokens:function(e){let t,r=[],n=RegExp(g,"gy");for(;t=n.exec(e);){let e=t[0];if("{"===e[0]){let t=/^\{(?<min>\d+),(?<max>\d+)\}\??$/.exec(e);if(t){let{min:a,max:i}=t.groups;if(+a>+i&&e.endsWith("?")){n.lastIndex--,r.push($(e.slice(0,-1)));continue}}}r.push($(e))}return r}(r)}:{token:C(s(r),r)}}(i,e,c[0],h.lastIndex);t.tokens?o.push(...t.tokens):t.token&&o.push(t.token),void 0!==t.lastIndex&&(h.lastIndex=t.lastIndex)}let p=[],d=0;o.filter(e=>"GroupOpen"===e.type).forEach(e=>{"capturing"===e.kind?e.number=++d:"("===e.raw&&p.push(e)}),d||p.forEach((e,t)=>{e.kind="capturing",e.number=t+1});let A=d||p.length;return{tokens:o.map(e=>"EscapedNumber"===e.type?function(e,t){let{raw:r,inCharClass:n}=e,a=r.slice(1);if(!n&&("0"!==a&&1===a.length||"0"!==a[0]&&+a<=t))return[b(r)];let i=[],o=a.match(/^[0-7]+|\d/g);for(let e=0;e<o.length;e++){let t,n=o[e];if(0===e&&"8"!==n&&"9"!==n){if((t=parseInt(n,8))>127)throw Error(u`Octal encoded byte above 177 unsupported "${r}"`)}else t=s(n);i.push(C(t,(0===e?"\\":"")+n))}return i}(e,A):e).flat(),flags:n}}(e,{flags:n.flags,rules:{captureGroup:n.rules.captureGroup,singleline:n.rules.singleline}}),i=(e,t)=>{let r=a.tokens[o.nextIndex];switch(o.parent=e,o.nextIndex++,r.type){case"Alternator":return M();case"Assertion":return function({kind:e}){return L(c({"^":"line_start",$:"line_end","\\A":"string_start","\\b":"word_boundary","\\B":"word_boundary","\\G":"search_start","\\y":"text_segment_boundary","\\Y":"text_segment_boundary","\\z":"string_end","\\Z":"string_end_newline"}[e],`Unexpected assertion kind "${e}"`),{negate:e===u`\B`||e===u`\Y`})}(r);case"Backreference":return function({raw:e},t){let r=/^\\k[<']/.test(e),n=r?e.slice(3,-1):e.slice(1),a=(r,n=!1)=>{let a=t.capturingGroups.length,i=!1;if(r>a)if(t.skipBackrefValidation)i=!0;else throw Error(`Not enough capturing groups defined to the left "${e}"`);return t.hasNumberedRef=!0,N(n?a+1-r:r,{orphan:i})};if(r){let r=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(n);if(r)return a(+r.groups.num,!!r.groups.sign);if(/[-+]/.test(n))throw Error(`Invalid backref name "${e}"`);if(!t.namedGroupsByName.has(n))throw Error(`Group name not defined to the left "${e}"`);return N(n)}return a(+n)}(r,o);case"Character":return F(r.value,{useLastValid:!!t.isCheckingRangeEnd});case"CharacterClassHyphen":return function(e,t,r){let{tokens:n,walk:a}=t,i=t.parent,o=i.body.at(-1),l=n[t.nextIndex];if(!r.isCheckingRangeEnd&&o&&"CharacterClass"!==o.type&&"CharacterClassRange"!==o.type&&l&&"CharacterClassOpen"!==l.type&&"CharacterClassClose"!==l.type&&"CharacterClassIntersector"!==l.type){let e=a(i,{...r,isCheckingRangeEnd:!0});if("Character"===o.type&&"Character"===e.type)return i.body.pop(),function(e,t){if(t.value<e.value)throw Error("Character class range out of order");return{type:"CharacterClassRange",min:e,max:t}}(o,e);throw Error("Invalid character class range")}return F(s("-"))}(0,o,t);case"CharacterClassOpen":return function({negate:e},t,r){let{tokens:n,walk:a}=t,i=n[t.nextIndex],o=[R()],s=Z(i);for(;"CharacterClassClose"!==s.type;){if("CharacterClassIntersector"===s.type)o.push(R()),t.nextIndex++;else{let e=o.at(-1);e.body.push(a(e,r))}s=Z(n[t.nextIndex],i)}let l=R({negate:e});return 1===o.length?l.body=o[0].body:(l.kind="intersection",l.body=o.map(e=>1===e.body.length?e.body[0]:e)),t.nextIndex++,l}(r,o,t);case"CharacterSet":return function({kind:e,negate:t,value:r},n){let{normalizeUnknownPropertyNames:a,skipPropertyNameValidation:i,unicodePropertyMap:o}=n;if("property"===e){let n=X(r);if(!l.has(n)||o?.has(n))return D(r,{negate:t,normalizeUnknownPropertyNames:a,skipPropertyNameValidation:i,unicodePropertyMap:o});e="posix",r=n}return"posix"===e?function(e,t){let r=!!t?.negate;if(!l.has(e))throw Error(`Invalid POSIX class "${e}"`);return{type:"CharacterSet",kind:"posix",value:e,negate:r}}(r,{negate:t}):U(e,{negate:t})}(r,o);case"Directive":return function(e,t={}){if("keep"===e)return{type:"Directive",kind:e};if("flags"===e)return{type:"Directive",kind:e,flags:c(t.flags)};throw Error(`Unexpected directive kind "${e}"`)}(r.kind,{flags:r.flags});case"GroupOpen":return function(e,t,r){var n,a;let{tokens:i,capturingGroups:o,namedGroupsByName:s,skipLookbehindValidation:l,walk:u}=t,c=function({flags:e,kind:t,name:r,negate:n,number:a}){switch(t){case"absence_repeater":var i="repeater";!1;return{type:"AbsenceFunction",kind:i,body:W(void 0)};case"atomic":return H({atomic:!0});case"capturing":return P(a,{name:r});case"group":return H({flags:e});case"lookahead":case"lookbehind":return B({behind:"lookbehind"===t,negate:n});default:throw Error(`Unexpected group kind "${t}"`)}}(e),p="AbsenceFunction"===c.type,d=j(c),g=d&&c.negate;if("CapturingGroup"===c.type&&(o.push(c),c.name&&(n=c.name,a=[],s.has(n)||s.set(n,a),s.get(n)).push(c)),p&&r.isInAbsenceFunction)throw Error("Nested absence function not supported by Oniguruma");let h=Q(i[t.nextIndex]);for(;"GroupClose"!==h.type;){if("Alternator"===h.type)c.body.push(M()),t.nextIndex++;else{let e=c.body.at(-1),t=u(e,{...r,isInAbsenceFunction:r.isInAbsenceFunction||p,isInLookbehind:r.isInLookbehind||d,isInNegLookbehind:r.isInNegLookbehind||g});if(e.body.push(t),(d||r.isInLookbehind)&&!l){let e="Lookbehind includes a pattern not allowed by Oniguruma";if(g||r.isInNegLookbehind){if(V(t)||"CapturingGroup"===t.type)throw Error(e)}else if(V(t)||j(t)&&t.negate)throw Error(e)}}h=Q(i[t.nextIndex])}return t.nextIndex++,c}(r,o,t);case"NamedCallout":var n,i;return n=r.kind,i=r.tag,{type:"NamedCallout",kind:n,tag:i,arguments:r.arguments};case"Quantifier":return function({kind:e,min:t,max:r},n){let a=n.parent,i=a.body.at(-1);if(!i||!T.has(i.type))throw Error("Quantifier requires a repeatable token");let o=G(e,t,r,i);return a.body.pop(),o}(r,o);case"Subroutine":return function({raw:e},t){let{capturingGroups:r,subroutines:n}=t,a=e.slice(3,-1),i=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(a);if(i){let e=+i.groups.num,n=r.length;if(t.hasNumberedRef=!0,(a=({"":e,"+":n+e,"-":n+1-e})[i.groups.sign])<1)throw Error("Invalid subroutine number")}else"0"===a&&(a=0);let o=O(a);return n.push(o),o}(r,o);default:throw Error(`Unexpected token type "${r.type}"`)}},o={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:n.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:n.skipBackrefValidation,skipLookbehindValidation:n.skipLookbehindValidation,skipPropertyNameValidation:n.skipPropertyNameValidation,subroutines:[],tokens:a.tokens,unicodePropertyMap:n.unicodePropertyMap,walk:i},p=(r={type:"Flags",...a.flags},{type:"Regex",body:W(void 0),flags:r}),d=p.body[0];for(;o.nextIndex<a.tokens.length;){let e=i(d,{});"Alternative"===e.type?(p.body.push(e),d=e):d.body.push(e)}let{capturingGroups:A,hasNumberedRef:v,namedGroupsByName:z,subroutines:q}=o;if(v&&z.size&&!n.rules.captureGroup)throw Error("Numbered backref/subroutine not allowed when using named capture");for(let{ref:e}of q)if("number"==typeof e){if(e>A.length)throw Error("Subroutine uses a group number that's not defined");e&&(A[e-1].isSubroutined=!0)}else if(z.has(e)){if(z.get(e).length>1)throw Error(u`Subroutine uses a duplicate group name "\g<${e}>"`);z.get(e)[0].isSubroutined=!0}else throw Error(u`Subroutine uses a group name that's not defined "\g<${e}>"`);return p}function M(e){return{type:"Alternative",body:z(e?.body)}}function L(e,t){let r={type:"Assertion",kind:e};return("word_boundary"===e||"text_segment_boundary"===e)&&(r.negate=!!t?.negate),r}function N(e,t){let r=!!t?.orphan;return{type:"Backreference",ref:e,...r&&{orphan:r}}}function P(e,t){var r;let n={name:void 0,isSubroutined:!1,...t};if(void 0!==n.name&&(r=n.name,!/^[\p{Alpha}\p{Pc}][^)]*$/u.test(r)))throw Error(`Group name "${n.name}" invalid in Oniguruma`);return{type:"CapturingGroup",number:e,...n.name&&{name:n.name},...n.isSubroutined&&{isSubroutined:n.isSubroutined},body:W(t?.body)}}function F(e,t){let r={useLastValid:!1,...t};if(e>1114111){let t=e.toString(16);if(r.useLastValid)e=1114111;else throw e>1310719?Error(`Invalid code point out of range "\\x{${t}}"`):Error(`Invalid code point out of range in JS "\\x{${t}}"`)}return{type:"Character",value:e}}function R(e){let t={kind:"union",negate:!1,...e};return{type:"CharacterClass",kind:t.kind,negate:t.negate,body:z(e?.body)}}function U(e,t){let r=!!t?.negate,n={type:"CharacterSet",kind:e};return("digit"===e||"hex"===e||"newline"===e||"space"===e||"word"===e)&&(n.negate=r),"text_segment"!==e&&("newline"!==e||r)||(n.variableLength=!0),n}function H(e){let t=e?.atomic,r=e?.flags;if(t&&r)throw Error("Atomic group cannot have flags");return{type:"Group",...t&&{atomic:t},...r&&{flags:r},body:W(e?.body)}}function B(e){let t={behind:!1,negate:!1,...e};return{type:"LookaroundAssertion",kind:t.behind?"lookbehind":"lookahead",negate:t.negate,body:W(e?.body)}}function G(e,t,r,n){if(t>r)throw Error("Invalid reversed quantifier range");return{type:"Quantifier",kind:e,min:t,max:r,body:n}}function O(e){return{type:"Subroutine",ref:e}}function D(e,t){let r={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t},n=r.unicodePropertyMap?.get(X(e));if(!n){if(r.normalizeUnknownPropertyNames)n=e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,e=>e[0].toUpperCase()+e.slice(1).toLowerCase());else if(r.unicodePropertyMap&&!r.skipPropertyNameValidation)throw Error(u`Invalid Unicode property "\p{${e}}"`)}return{type:"CharacterSet",kind:"property",value:n??e,negate:r.negate}}function W(e){if(void 0===e)e=[M()];else if(!Array.isArray(e)||!e.length||!e.every(e=>"Alternative"===e.type))throw Error("Invalid body; expected array of one or more Alternative nodes");return e}function z(e){if(void 0===e)e=[];else if(!Array.isArray(e)||!e.every(e=>!!e.type))throw Error("Invalid body; expected array of nodes");return e}function V(e){return"LookaroundAssertion"===e.type&&"lookahead"===e.kind}function j(e){return"LookaroundAssertion"===e.type&&"lookbehind"===e.kind}function X(e){return e.replace(/[- _]+/g,"").toLowerCase()}function Z(e,t){return c(e,`${t?.type==="Character"&&93===t.value?"Empty":"Unclosed"} character class`)}function Q(e){return c(e,"Unclosed group")}function q(e,t,r=null){function n(e,t){for(let r=0;r<e.length;r++){let n=a(e[r],t,r,e);r=Math.max(-1,r+n)}}function a(i,o=null,s=null,l=null){let u=0,p=!1,d={node:i,parent:o,key:s,container:l,root:e,remove(){J(l).splice(Math.max(0,K(s)+u),1),u--,p=!0},removeAllNextSiblings:()=>J(l).splice(K(s)+1),removeAllPrevSiblings(){let e=K(s)+u;return u-=e,J(l).splice(0,Math.max(0,e))},replaceWith(e,t={}){let r=!!t.traverse;l?l[Math.max(0,K(s)+u)]=e:c(o,"Can't replace root node")[s]=e,r&&a(e,o,s,l),p=!0},replaceWithMultiple(e,t={}){let r=!!t.traverse;if(J(l).splice(Math.max(0,K(s)+u),1,...e),u+=e.length-1,r){let t=0;for(let r=0;r<e.length;r++)t+=a(e[r],o,K(s)+r+t,l)}p=!0},skip(){p=!0}},{type:g}=i,h=t["*"],f=t[g],m="function"==typeof h?h:h?.enter,y="function"==typeof f?f:f?.enter;if(m?.(d,r),y?.(d,r),!p)switch(g){case"AbsenceFunction":case"CapturingGroup":case"Group":case"Alternative":case"CharacterClass":case"LookaroundAssertion":n(i.body,i);break;case"Assertion":case"Backreference":case"Character":case"CharacterSet":case"Directive":case"Flags":case"NamedCallout":case"Subroutine":break;case"CharacterClassRange":a(i.min,i,"min"),a(i.max,i,"max");break;case"Quantifier":a(i.body,i,"body");break;case"Regex":n(i.body,i),a(i.flags,i,"flags");break;default:throw Error(`Unexpected node type "${g}"`)}return f?.exit?.(d,r),h?.exit?.(d,r),u}return a(e),e}function J(e){if(!Array.isArray(e))throw Error("Container expected");return e}function K(e){if("number"!=typeof e)throw Error("Numeric key expected");return e}let Y=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`,ee=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function et(e,t,r,n){let a=RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),i=[!1],o=0,s="";for(let t of e.matchAll(a)){let{0:e,groups:{$skip:a}}=t;if(!a&&(!n||n===ee.DEFAULT==!o)){r instanceof Function?s+=r(t,{context:o?ee.CHAR_CLASS:ee.DEFAULT,negated:i[i.length-1]}):s+=r;continue}"["===e[0]?(o++,i.push("^"===e[1])):"]"===e&&o&&(o--,i.pop()),s+=e}return s}function er(e,t,r){return!!function(e,t,r=0,n){let a;if(!RegExp(t,"su").test(e))return null;let i=RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");i.lastIndex=r;let o=0;for(;a=i.exec(e);){let{0:e,groups:{$skip:t}}=a;if(!t&&(!n||n===ee.DEFAULT==!o))return a;"["===e?o++:"]"===e&&o&&o--,i.lastIndex==a.index&&i.lastIndex++}return null}(e,t,0,r)}let en=RegExp(String.raw`(?<noncapturingStart>${Y})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu"),ea=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,ei=RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${ea})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu"),eo=String.raw,es=eo`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,el=eo`\(\?R=(?<rDepth>[^\)]+)\)|${es}`,eu=eo`\(\?<(?![=!])(?<captureName>[^>]+)>`,ec=eo`${eu}|(?<unnamed>\()(?!\?)`,ep=RegExp(eo`${eu}|${el}|\(\?|\\?.`,"gsu"),ed="Cannot use multiple overlapping recursions";function eg(e){let t=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e)||(e*=1)<2||e>100)throw Error(t)}function eh(e,t,r,n,a,i,o){let s=new Set;n&&et(e+t,eu,({groups:{captureName:e}})=>{s.add(e)},ee.DEFAULT);let l=[r,n?s:null,a,i,o];return`${e}${ef(`(?:${e}`,"forward",...l)}(?:)${ef(`${t})`,"backward",...l)}${t}`}function ef(e,t,r,n,a,i,o){let s=e=>"forward"===t?e+2:r-e+2-1,l="";for(let t=0;t<r;t++){let r=s(t);l+=et(e,eo`${ec}|\\k<(?<backref>[^>]+)>`,({0:e,groups:{captureName:t,unnamed:s,backref:l}})=>{if(l&&n&&!n.has(l))return e;let u=`_$${r}`;if(s||t){let r=o+i.length+1;return i.push(r),function(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}(a,r),s?e:`(?<${t}${u}>`}return eo`\k<${l}${u}>`},ee.DEFAULT)}return l}function em(e,t,r,n,a,i){if(e.size&&n){let o=0;et(t,ec,()=>o++,ee.DEFAULT);let s=i-o+a,l=new Map;return e.forEach((e,t)=>{let a=(n-o*r)/r,i=o*r,u=t>s+o?t+n:t,c=[];for(let t of e)if(t<=s)c.push(t);else if(t>s+o+a)c.push(t+n);else if(t<=s+o)for(let e=0;e<=r;e++)c.push(t+o*e);else for(let e=0;e<=r;e++)c.push(t+i+a*e);l.set(u,c)}),l}return e}var ey=String.fromCodePoint,eb=String.raw,eC={flagGroups:(()=>{try{RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{RegExp("[[]]","v")}catch{return!1}return!0})()};function ek(e,{enable:t,disable:r}){return{dotAll:!r?.dotAll&&!!(t?.dotAll||e.dotAll),ignoreCase:!r?.ignoreCase&&!!(t?.ignoreCase||e.ignoreCase)}}function ew(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}eC.bugFlagVLiteralHyphenIsRange=!!eC.unicodeSets&&(()=>{try{RegExp(eb`[\d\-a]`,"v")}catch{return!0}return!1})(),eC.bugNestedClassIgnoresNegation=eC.unicodeSets&&RegExp("[[^a]]","v").test("a");var ex={ES2025:2025,ES2024:2024,ES2018:2018},eS={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function eE(e={}){if("[object Object]"!==({}).toString.call(e))throw Error("Unexpected options");if(void 0!==e.target&&!eS[e.target])throw Error(`Unexpected target "${e.target}"`);let t={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e.rules}};return"auto"===t.target&&(t.target=eC.flagGroups?"ES2025":eC.unicodeSets?"ES2024":"ES2018"),t}var eA=new Set([ey(304),ey(305)]),e$=eb`[\p{L}\p{M}\p{N}\p{Pc}]`;function eI(e){if(eA.has(e))return[e];let t=new Set,r=e.toLowerCase(),n=r.toUpperCase(),a=eM.get(r),i=eT.get(r),o=e_.get(r);return 1==[...n].length&&t.add(n),o&&t.add(o),a&&t.add(a),t.add(r),i&&t.add(i),[...t]}var ev=new Map(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map(e=>[X(e),e])),eT=new Map([["s",ey(383)],[ey(383),"s"]]),e_=new Map([[ey(223),ey(7838)],[ey(107),ey(8490)],[ey(229),ey(8491)],[ey(969),ey(8486)]]),eM=new Map([eN(453),eN(456),eN(459),eN(498),...eP(8072,8079),...eP(8088,8095),...eP(8104,8111),eN(8124),eN(8140),eN(8188)]),eL=new Map([["alnum",eb`[\p{Alpha}\p{Nd}]`],["alpha",eb`\p{Alpha}`],["ascii",eb`\p{ASCII}`],["blank",eb`[\p{Zs}\t]`],["cntrl",eb`\p{Cc}`],["digit",eb`\p{Nd}`],["graph",eb`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",eb`\p{Lower}`],["print",eb`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",eb`[\p{P}\p{S}]`],["space",eb`\p{space}`],["upper",eb`\p{Upper}`],["word",eb`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",eb`\p{AHex}`]]);function eN(e){let t=ey(e);return[t.toLowerCase(),t]}function eP(e,t){return(function(e,t){let r=[];for(let n=e;n<=t;n++)r.push(n);return r})(e,t).map(e=>eN(e))}var eF=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]),eR={AbsenceFunction({node:e,parent:t,replaceWith:r}){let{body:n,kind:a}=e;if("repeater"===a){let e=H();e.body[0].body.push(B({negate:!0,body:n}),D("Any"));let a=H();a.body[0].body.push(G("greedy",0,1/0,e)),r(eZ(a,t),{traverse:!0})}else throw Error('Unsupported absence function "(?~|"')},Alternative:{enter({node:e,parent:t,key:r},{flagDirectivesByAlt:n}){let a=e.body.filter(e=>"flags"===e.kind);for(let e=r+1;e<t.body.length;e++)ew(n,t.body[e],[]).push(...a)},exit({node:e},{flagDirectivesByAlt:t}){if(t.get(e)?.length){let r=eD(t.get(e));if(r){let t=H({flags:r});t.body[0].body=e.body,e.body=[eZ(t,e)]}}}},Assertion({node:e,parent:t,key:r,container:n,root:a,remove:i,replaceWith:o},s){let{kind:l,negate:u}=e,{asciiWordBoundaries:c,avoidSubclass:p,supportedGNodes:d,wordIsAscii:g}=s;if("text_segment_boundary"===l)throw Error(`Unsupported text segment boundary "\\${u?"Y":"y"}"`);if("line_end"===l)o(eZ(B({body:[M({body:[L("string_end")]}),M({body:[F(10)]})]}),t));else if("line_start"===l)o(eZ(eV(eb`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),t));else if("search_start"===l)if(d.has(e))a.flags.sticky=!0,i();else{var h;let e,a=n[r-1];if(a&&((e=["Character","CharacterClass","CharacterSet"]).includes((h=a).type)||"Quantifier"===h.type&&h.min&&e.includes(h.body.type)))o(eZ(B({negate:!0}),t));else if(p)throw Error(eb`Uses "\G" in a way that requires a subclass`);else o(eX(L("string_start"),t)),s.strategy="clip_search"}else if("string_end"===l||"string_start"===l);else if("string_end_newline"===l)o(eZ(eV(eb`(?=\n?\z)`),t));else if("word_boundary"===l){if(!g&&!c){let e=`(?:(?<=${e$})(?!${e$})|(?<!${e$})(?=${e$}))`,r=`(?:(?<=${e$})(?=${e$})|(?<!${e$})(?!${e$}))`;o(eZ(eV(u?r:e),t))}}else throw Error(`Unexpected assertion kind "${l}"`)},Backreference({node:e},{jsGroupNameMap:t}){let{ref:r}=e;"string"!=typeof r||ez(r)||(e.ref=r=eO(r,t))},CapturingGroup({node:e},{jsGroupNameMap:t,subroutineRefMap:r}){let{name:n}=e;n&&!ez(n)&&(e.name=n=eO(n,t)),r.set(e.number,e),n&&r.set(n,e)},CharacterClassRange({node:e,parent:t,replaceWith:r}){"intersection"===t.kind&&r(eZ(R({body:[e]}),t),{traverse:!0})},CharacterSet({node:e,parent:t,replaceWith:r},{accuracy:n,minTargetEs2024:a,digitIsAscii:i,spaceIsAscii:o,wordIsAscii:s}){let{kind:l,negate:u,value:c}=e;if(i&&("digit"===l||"digit"===c))return void r(eX(U("digit",{negate:u}),t));if(o&&("space"===l||"space"===c))return void r(eZ(ej(eV("[	-\r ]"),u),t));if(s&&("word"===l||"word"===c))return void r(eX(U("word",{negate:u}),t));if("any"===l)r(eX(D("Any"),t));else if("digit"===l)r(eX(D("Nd",{negate:u}),t));else if("dot"===l);else if("text_segment"===l){if("strict"===n)throw Error(eb`Use of "\X" requires non-strict accuracy`);let e="\\p{Emoji}(?:\\p{EMod}|\\uFE0F\\u20E3?|[\\x{E0020}-\\x{E007E}]+\\x{E007F})?",i=eb`\p{RI}{2}|${e}(?:\u200D${e})*`;r(eZ(eV(eb`(?>\r\n|${a?eb`\p{RGI_Emoji}`:i}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),t))}else if("hex"===l)r(eX(D("AHex",{negate:u}),t));else if("newline"===l)r(eZ(eV(u?"[^\n]":"(?>\r\n?|[\n\v\fÂ…\u2028\u2029])"),t));else if("posix"===l)if(a||"graph"!==c&&"print"!==c)r(eZ(ej(eV(eL.get(c)),u),t));else{if("strict"===n)throw Error(`POSIX class "${c}" requires min target ES2024 or non-strict accuracy`);let e={graph:"!-~",print:" -~"}[c];u&&(e=`\0-${ey(e.codePointAt(0)-1)}${ey(e.codePointAt(2)+1)}-\u{10FFFF}`),r(eZ(eV(`[${e}]`),t))}else if("property"===l)ev.has(X(c))||(e.key="sc");else if("space"===l)r(eX(D("space",{negate:u}),t));else if("word"===l)r(eZ(ej(eV(e$),u),t));else throw Error(`Unexpected character set kind "${l}"`)},Directive({node:e,parent:t,root:r,remove:n,replaceWith:a,removeAllPrevSiblings:i,removeAllNextSiblings:o}){let{kind:s,flags:l}=e;if("flags"===s)if(l.enable||l.disable){let e=H({flags:l});e.body[0].body=o(),a(eZ(e,t),{traverse:!0})}else n();else if("keep"===s){let e=r.body[0],n=1===r.body.length&&v(e,{type:"Group"})&&1===e.body[0].body.length?e.body[0]:r;if(t.parent!==n||n.body.length>1)throw Error(eb`Uses "\K" in a way that's unsupported`);let o=B({behind:!0});o.body[0].body=i(),a(eZ(o,t))}else throw Error(`Unexpected directive kind "${s}"`)},Flags({node:e,parent:t}){if(e.posixIsAscii)throw Error('Unsupported flag "P"');if("word"===e.textSegmentMode)throw Error('Unsupported flag "y{w}"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii","textSegmentMode"].forEach(t=>delete e[t]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;let{enable:t,disable:r}=e.flags;t?.extended&&delete t.extended,r?.extended&&delete r.extended,t?.dotAll&&r?.dotAll&&delete t.dotAll,t?.ignoreCase&&r?.ignoreCase&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable,r&&!Object.keys(r).length&&delete e.flags.disable,e.flags.enable||e.flags.disable||delete e.flags},LookaroundAssertion({node:e},t){let{kind:r}=e;"lookbehind"===r&&(t.passedLookbehind=!0)},NamedCallout({node:e,parent:t,replaceWith:r}){let{kind:n}=e;if("fail"===n)r(eZ(B({negate:!0}),t));else throw Error(`Unsupported named callout "(*${n.toUpperCase()}"`)},Quantifier({node:e}){if("Quantifier"===e.body.type){let t=H();t.body[0].body.push(e.body),e.body=eZ(t,e)}},Regex:{enter({node:e},{supportedGNodes:t}){let r=[],n=!1,a=!1;for(let t of e.body)if(1===t.body.length&&"search_start"===t.body[0].kind)t.body.pop();else{let e=function e(t){let r=t.find(e=>"search_start"===e.kind||function(e,t){let r={negate:null,...t};return"LookaroundAssertion"===e.type&&(null===r.negate||e.negate===r.negate)&&1===e.body.length&&v(e.body[0],{type:"Assertion",kind:"search_start"})}(e,{negate:!1})||!function({type:e}){return"Assertion"===e||"Directive"===e||"LookaroundAssertion"===e}(e));if(!r)return null;if("search_start"===r.kind)return r;if("LookaroundAssertion"===r.type)return r.body[0].body[0];if("CapturingGroup"===r.type||"Group"===r.type){let t=[];for(let n of r.body){let r=e(n.body);if(!r)return null;Array.isArray(r)?t.push(...r):t.push(r)}return t}return null}(t.body);e?(n=!0,Array.isArray(e)?r.push(...e):r.push(e)):a=!0}n&&!a&&r.forEach(e=>t.add(e))},exit(e,{accuracy:t,passedLookbehind:r,strategy:n}){if("strict"===t&&r&&n)throw Error(eb`Uses "\G" in a way that requires non-strict accuracy`)}},Subroutine({node:e},{jsGroupNameMap:t}){let{ref:r}=e;"string"!=typeof r||ez(r)||(e.ref=r=eO(r,t))}},eU={Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByReferencer:r}){let{orphan:n,ref:a}=e;n||r.set(e,[...t.get(a).map(({node:e})=>e)])},CapturingGroup:{enter({node:e,parent:t,replaceWith:r,skip:n},{groupOriginByCopy:a,groupsByName:i,multiplexCapturesToLeftByRef:o,openRefs:s,reffedNodesByReferencer:l}){let u=a.get(e);if(u&&s.has(e.number)){let n=eX(eG(e.number),t);l.set(n,s.get(e.number)),r(n);return}s.set(e.number,e),o.set(e.number,[]),e.name&&ew(o,e.name,[]);let c=o.get(e.name??e.number);for(let t=0;t<c.length;t++){let r=c[t];if(u===r.node||u&&u===r.origin||e===r.origin){c.splice(t,1);break}}if(o.get(e.number).push({node:e,origin:u}),e.name&&o.get(e.name).push({node:e,origin:u}),e.name){let t=ew(i,e.name,new Map),r=!1;if(u)r=!0;else for(let e of t.values())if(!e.hasDuplicateNameToRemove){r=!0;break}i.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:r})}},exit({node:e},{openRefs:t}){t.delete(e.number)}},Group:{enter({node:e},t){t.prevFlags=t.currentFlags,e.flags&&(t.currentFlags=ek(t.currentFlags,e.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Subroutine({node:e,parent:t,replaceWith:r},n){let{isRecursive:a,ref:i}=e;if(a){let r=t;for(;(r=r.parent)&&("CapturingGroup"!==r.type||r.name!==i&&r.number!==i););n.reffedNodesByReferencer.set(e,r);return}let o=n.subroutineRefMap.get(i),s=0===i,l=s?eG(0):function e(t,r,n,a){let i=Array.isArray(t)?[]:{};for(let[o,s]of Object.entries(t))"parent"===o?i.parent=Array.isArray(n)?a:n:s&&"object"==typeof s?i[o]=e(s,r,i,n):("type"===o&&"CapturingGroup"===s&&r.set(i,r.get(t)??t),i[o]=s);return i}(o,n.groupOriginByCopy,null),u=l;if(!s){var c,p;let e=eD(function(e,t){let r=[];for(;e=e.parent;)(!t||t(e))&&r.push(e);return r}(o,e=>"Group"===e.type&&!!e.flags)),t=e?ek(n.globalFlags,e):n.globalFlags;c=t,p=n.currentFlags,(c.dotAll!==p.dotAll||c.ignoreCase!==p.ignoreCase)&&(u=H({flags:function({dotAll:e,ignoreCase:t}){let r={};return(e||t)&&(r.enable={},e&&(r.enable.dotAll=!0),t&&(r.enable.ignoreCase=!0)),e&&t||(r.disable={},e||(r.disable.dotAll=!0),t||(r.disable.ignoreCase=!0)),r}(t)})).body[0].body.push(l)}r(eZ(u,t),{traverse:!s})}},eH={Backreference({node:e,parent:t,replaceWith:r},n){if(e.orphan){n.highestOrphanBackref=Math.max(n.highestOrphanBackref,e.ref);return}let a=n.reffedNodesByReferencer.get(e).filter(t=>(function(e,t){let r=t;do{if("Regex"===r.type)return!1;if("Alternative"===r.type)continue;if(r===e)return!1;for(let t of eW(r.parent)){if(t===r)break;if(t===e||function e(t,r){for(let n of eW(t)??[])if(n===r||e(n,r))return!0;return!1}(t,e))return!0}}while(r=r.parent)throw Error("Unexpected path")})(t,e));a.length?a.length>1?r(eZ(H({atomic:!0,body:a.reverse().map(e=>M({body:[N(e.number)]}))}),t)):e.ref=a[0].number:r(eZ(B({negate:!0}),t))},CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,e.name&&t.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Regex:{exit({node:e},t){let r=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let t=0;t<r;t++){let t=P();e.body.at(-1).body.push(t)}}},Subroutine({node:e},t){e.isRecursive&&0!==e.ref&&(e.ref=t.reffedNodesByReferencer.get(e).number)}};function eB(e){q(e,{"*"({node:e,parent:t}){e.parent=t}})}function eG(e){let t=O(e);return t.isRecursive=!0,t}function eO(e,t){if(t.has(e))return t.get(e);let r=`$${t.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return t.set(e,r),r}function eD(e){let t=["dotAll","ignoreCase"],r={enable:{},disable:{}};return(e.forEach(({flags:e})=>{t.forEach(t=>{e.enable?.[t]&&(delete r.disable[t],r.enable[t]=!0),e.disable?.[t]&&(r.disable[t]=!0)})}),Object.keys(r.enable).length||delete r.enable,Object.keys(r.disable).length||delete r.disable,r.enable||r.disable)?r:null}function eW(e){if(!e)throw Error("Node expected");let{body:t}=e;return Array.isArray(t)?t:t?[t]:null}function ez(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}function eV(e,t){let r=_(e,{...t,unicodePropertyMap:ev}).body;return r.length>1||r[0].body.length>1?H({body:r}):r[0].body[0]}function ej(e,t){return e.negate=t,e}function eX(e,t){return e.parent=t,e}function eZ(e,t){return eB(e),e.parent=t,e}var eQ={"*":{enter({node:e},t){if(e4(e)){let r=t.getCurrentModI();t.pushModI(e.flags?ek({ignoreCase:r},e.flags).ignoreCase:r)}},exit({node:e},t){e4(e)&&t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){e2(ey(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},r){t(),e8(e,{firstOnly:!0}).length&&r.setHasCasedChar()},CharacterSet({node:e},t){"property"===e.kind&&eF.has(e.value)&&t.setHasCasedChar()}},eq={Alternative:({body:e},t,r)=>e.map(r).join(""),Assertion({kind:e,negate:t}){if("string_end"===e)return"$";if("string_start"===e)return"^";if("word_boundary"===e)return t?eb`\B`:eb`\b`;throw Error(`Unexpected assertion kind "${e}"`)},Backreference({ref:e},t){if("number"!=typeof e)throw Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&"strict"===t.accuracy&&t.currentFlags.ignoreCase&&!t.captureMap.get(e).ignoreCase)throw Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+e},CapturingGroup(e,t,r){let{body:n,name:a,number:i}=e,o={ignoreCase:t.currentFlags.ignoreCase},s=t.originMap.get(e);return s&&(o.hidden=!0,i>s.number&&(o.transferTo=s.number)),t.captureMap.set(i,o),`(${a?`?<${a}>`:""}${n.map(r).join("|")})`},Character({value:e},t){let r=ey(e),n=e3(e,{escDigit:"Backreference"===t.lastNode.type,inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(n!==r)return n;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&e2(r)){let e=eI(r);return t.inCharClass?e.join(""):e.length>1?`[${e.join("")}]`:e[0]}return r},CharacterClass(e,t,r){let{kind:n,negate:a,parent:i}=e,{body:o}=e;if("intersection"===n&&!t.useFlagV)throw Error("Use of character class intersection requires min target ES2024");eC.bugFlagVLiteralHyphenIsRange&&t.useFlagV&&o.some(e5)&&(o=[F(45),...o.filter(e=>!e5(e))]);let s=()=>`[${a?"^":""}${o.map(r).join("intersection"===n?"&&":"")}]`;if(!t.inCharClass){if((!t.useFlagV||eC.bugNestedClassIgnoresNegation)&&!a){let t=o.filter(e=>"CharacterClass"===e.type&&"union"===e.kind&&e.negate);if(t.length){let n=H(),a=n.body[0];return n.parent=i,a.parent=n,e.body=o=o.filter(e=>!t.includes(e)),o.length?(e.parent=a,a.body.push(e)):n.body.pop(),t.forEach(e=>{let t=M({body:[e]});e.parent=t,t.parent=n,n.body.push(t)}),r(n)}}t.inCharClass=!0;let n=s();return t.inCharClass=!1,n}let l=o[0];if("union"===n&&!a&&l&&((!t.useFlagV||!t.verbose)&&"union"===i.kind&&!(eC.bugFlagVLiteralHyphenIsRange&&t.useFlagV)||!t.verbose&&"intersection"===i.kind&&1===o.length&&"CharacterClassRange"!==l.type))return o.map(r).join("");if(!t.useFlagV&&"CharacterClass"===i.type)throw Error("Uses nested character class in a way that requires min target ES2024");return s()},CharacterClassRange(e,t){let r=e.min.value,n=e.max.value,a={escDigit:!1,inCharClass:!0,useFlagV:t.useFlagV},i=e3(r,a),o=e3(n,a),s=new Set;return t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&(function(e){let t=e.map(e=>e.codePointAt(0)).sort((e,t)=>e-t),r=[],n=null;for(let e=0;e<t.length;e++)t[e+1]===t[e]+1?n??=t[e]:null===n?r.push(t[e]):(r.push([n,t[e]]),n=null);return r})(e8(e)).forEach(e=>{s.add(Array.isArray(e)?`${e3(e[0],a)}-${e3(e[1],a)}`:e3(e,a))}),`${i}-${o}${[...s].join("")}`},CharacterSet({kind:e,negate:t,value:r,key:n},a){if("dot"===e)return a.currentFlags.dotAll?a.appliedGlobalFlags.dotAll||a.useFlagMods?".":"[^]":eb`[^\n]`;if("digit"===e)return t?eb`\D`:eb`\d`;if("property"===e){if(a.useAppliedIgnoreCase&&a.currentFlags.ignoreCase&&eF.has(r))throw Error(`Unicode property "${r}" can't be case-insensitive when other chars have specific case`);return`${t?eb`\P`:eb`\p`}{${n?`${n}=`:""}${r}}`}if("word"===e)return t?eb`\W`:eb`\w`;throw Error(`Unexpected character set kind "${e}"`)},Flags:(e,t)=>(t.appliedGlobalFlags.ignoreCase?"i":"")+(e.dotAll?"s":"")+(e.sticky?"y":""),Group({atomic:e,body:t,flags:r,parent:n},a,i){let o=a.currentFlags;r&&(a.currentFlags=ek(o,r));let s=t.map(i).join("|"),l=a.verbose||1!==t.length||"Quantifier"===n.type||e||a.useFlagMods&&r?`(?${function(e,t,r){if(e)return">";let n="";if(t&&r){let{enable:e,disable:r}=t;n=(e?.ignoreCase?"i":"")+(e?.dotAll?"s":"")+(r?"-":"")+(r?.ignoreCase?"i":"")+(r?.dotAll?"s":"")}return`${n}:`}(e,r,a.useFlagMods)}${s})`:s;return a.currentFlags=o,l},LookaroundAssertion({body:e,kind:t,negate:r},n,a){let i=`${"lookahead"===t?"":"<"}${r?"!":"="}`;return`(?${i}${e.map(a).join("|")})`},Quantifier:(e,t,r)=>r(e.body)+function({kind:e,max:t,min:r}){return(r||1!==t?r||t!==1/0?1===r&&t===1/0?"+":r===t?`{${r}}`:`{${r},${t===1/0?"":t}}`:"*":"?")+({greedy:"",lazy:"?",possessive:"+"})[e]}(e),Subroutine({isRecursive:e,ref:t},r){if(!e)throw Error("Unexpected non-recursive subroutine in transformed AST");let n=r.recursionLimit;return 0===t?`(?R=${n})`:eb`\g<${t}&R=${n}>`}},eJ=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),eK=new Set(["-","\\","]","^","["]),eY=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),e0=new Map([[9,eb`\t`],[10,eb`\n`],[11,eb`\v`],[12,eb`\f`],[13,eb`\r`],[8232,eb`\u2028`],[8233,eb`\u2029`],[65279,eb`\uFEFF`]]),e1=/^\p{Cased}$/u;function e2(e){return e1.test(e)}function e8(e,t){let r=!!t?.firstOnly,n=e.min.value,a=e.max.value,i=[];if(n<65&&(65535===a||a>=131071)||65536===n&&a>=131071)return i;for(let e=n;e<=a;e++){let t=ey(e);if(!e2(t))continue;let o=eI(t).filter(e=>{let t=e.codePointAt(0);return t<n||t>a});if(o.length&&(i.push(...o),r))break}return i}function e3(e,{escDigit:t,inCharClass:r,useFlagV:n}){var a;if(e0.has(e))return e0.get(e);if(e<32||e>126&&e<160||e>262143||t&&(a=e)>47&&a<58)return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,"0")}`;let i=ey(e);return((r?n?eY:eK:eJ).has(i)?"\\":"")+i}function e4({type:e}){return"CapturingGroup"===e||"Group"===e||"LookaroundAssertion"===e}function e5({type:e,value:t}){return"Character"===e&&45===t}var e9=class e extends RegExp{#e=new Map;#t=null;#r;#n=null;#a=null;rawOptions={};get source(){return this.#r||"(?:)"}constructor(t,r,n){const a=!!n?.lazyCompile;if(t instanceof RegExp){if(n)throw Error("Cannot provide options when copying a regexp");super(t,r),this.#r=t.source,t instanceof e&&(this.#e=t.#e,this.#n=t.#n,this.#a=t.#a,this.rawOptions=t.rawOptions)}else{const e={hiddenCaptures:[],strategy:null,transfers:[],...n};super(a?"":t,r),this.#r=t,this.#e=function(e,t){let r=new Map;for(let t of e)r.set(t,{hidden:!0});for(let[e,n]of t)for(let t of n)ew(r,t,{}).transferTo=e;return r}(e.hiddenCaptures,e.transfers),this.#a=e.strategy,this.rawOptions=n??{}}a||(this.#t=this)}exec(t){if(!this.#t){let{lazyCompile:t,...r}=this.rawOptions;this.#t=new e(this.#r,this.flags,r)}let r=this.global||this.sticky,n=this.lastIndex;if("clip_search"===this.#a&&r&&n){this.lastIndex=0;let e=this.#i(t.slice(n));return e&&(function(e,t,r,n){if(e.index+=t,e.input=r,n){let r=e.indices;for(let e=0;e<r.length;e++){let n=r[e];n&&(r[e]=[n[0]+t,n[1]+t])}let n=r.groups;n&&Object.keys(n).forEach(e=>{let r=n[e];r&&(n[e]=[r[0]+t,r[1]+t])})}}(e,n,t,this.hasIndices),this.lastIndex+=n),e}return this.#i(t)}#i(e){let t;this.#t.lastIndex=this.lastIndex;let r=super.exec.call(this.#t,e);if(this.lastIndex=this.#t.lastIndex,!r||!this.#e.size)return r;let n=[...r];r.length=1,this.hasIndices&&(t=[...r.indices],r.indices.length=1);let a=[0];for(let e=1;e<n.length;e++){let{hidden:i,transferTo:o}=this.#e.get(e)??{};if(i?a.push(null):(a.push(r.length),r.push(n[e]),this.hasIndices&&r.indices.push(t[e])),o&&void 0!==n[e]){let i=a[o];if(!i)throw Error(`Invalid capture transfer to "${i}"`);if(r[i]=n[e],this.hasIndices&&(r.indices[i]=t[e]),r.groups){this.#n||(this.#n=function(e){let t,r=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,n=new Map,a=0,i=0;for(;t=r.exec(e);){let{0:e,groups:{capture:r,name:o}}=t;"["===e?a++:a?"]"===e&&a--:r&&(i++,o&&n.set(i,o))}return n}(this.source));let a=this.#n.get(o);a&&(r.groups[a]=n[e],this.hasIndices&&(r.indices.groups[a]=t[e]))}}}return r}};function e6(e,t){let r;return(r=function(e,t){var r;let n,a,i,o,s=eE(t),l=(r=_(e,{flags:s.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:s.rules.captureGroup,singleline:s.rules.singleline},skipBackrefValidation:s.rules.allowOrphanBackrefs,unicodePropertyMap:ev}),n={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...{accuracy:s.accuracy,asciiWordBoundaries:s.rules.asciiWordBoundaries,avoidSubclass:s.avoidSubclass,bestEffortTarget:s.target}},eB(r),a={accuracy:n.accuracy,asciiWordBoundaries:n.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:ex[n.bestEffortTarget]>=ex.ES2024,passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:r.flags.digitIsAscii,spaceIsAscii:r.flags.spaceIsAscii,wordIsAscii:r.flags.wordIsAscii},q(r,eR,a),o={currentFlags:i={dotAll:r.flags.dotAll,ignoreCase:r.flags.ignoreCase},prevFlags:null,globalFlags:i,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:a.subroutineRefMap},q(r,eU,o),q(r,eH,{groupsByName:o.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:o.reffedNodesByReferencer}),r._originMap=o.groupOriginByCopy,r._strategy=a.strategy,r),u=function(e,t){let r=eE(t),n=ex[r.target]>=ex.ES2024,a=ex[r.target]>=ex.ES2025,i=r.rules.recursionLimit;if(!Number.isInteger(i)||i<2||i>20)throw Error("Invalid recursionLimit; use 2-20");let o=null,s=null;if(!a){let t=[e.flags.ignoreCase];q(e,eQ,{getCurrentModI:()=>t.at(-1),popModI(){t.pop()},pushModI(e){t.push(e)},setHasCasedChar(){t.at(-1)?o=!0:s=!0}})}let l={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||o)&&!s)},u=e,c={accuracy:r.accuracy,appliedGlobalFlags:l,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:u,originMap:e._originMap,recursionLimit:i,useAppliedIgnoreCase:!!(!a&&o&&s),useFlagMods:a,useFlagV:n,verbose:r.verbose};function p(e){return c.lastNode=u,u=e,(function(e,t){if(null==e)throw Error(t??"Value expected");return e})(eq[e.type],`Unexpected node type "${e.type}"`)(e,c,p)}let d={pattern:e.body.map(p).join("|"),flags:p(e.flags),options:{...e.options}};return n||(delete d.options.force.v,d.options.disable.v=!0,d.options.unicodeSetsPlugin=null),d._captureTransfers=new Map,d._hiddenCaptures=[],c.captureMap.forEach((e,t)=>{e.hidden&&d._hiddenCaptures.push(t),e.transferTo&&ew(d._captureTransfers,e.transferTo,[]).push(t)}),d}(l,s),c=function(e,t){let r,{hiddenCaptures:n,mode:a}={hiddenCaptures:[],mode:"plugin",...t},i=t?.captureTransfers??new Map;if(!RegExp(el,"su").test(e))return{pattern:e,captureTransfers:i,hiddenCaptures:n};if("plugin"===a&&er(e,eo`\(\?\(DEFINE\)`,ee.DEFAULT))throw Error("DEFINE groups cannot be used with recursion");let o=[],s=er(e,eo`\\[1-9]`,ee.DEFAULT),l=new Map,u=[],c=!1,p=0,d=0;for(ep.lastIndex=0;r=ep.exec(e);){let{0:t,groups:{captureName:g,rDepth:h,gRNameOrNum:f,gRDepth:m}}=r;if("["===t)p++;else if(p)"]"===t&&p--;else if(h){if(eg(h),c)throw Error(ed);if(s)throw Error(`${"external"===a?"Backrefs":"Numbered backrefs"} cannot be used with global recursion`);let t=e.slice(0,r.index),l=e.slice(ep.lastIndex);if(er(l,el,ee.DEFAULT))throw Error(ed);let u=h-1;e=eh(t,l,u,!1,n,o,d),i=em(i,t,u,o.length,0,d);break}else if(f){eg(m);let p=!1;for(let e of u)if(e.name===f||e.num===+f){if(p=!0,e.hasRecursedWithin)throw Error(ed);break}if(!p)throw Error(eo`Recursive \g cannot be used outside the referenced group "${"external"===a?f:eo`\g<${f}&R=${m}>`}"`);let g=l.get(f),h=function(e,t){let r,n=/\\?./gsu;n.lastIndex=t;let a=e.length,i=0,o=1;for(;r=n.exec(e);){let[e]=r;if("["===e)i++;else if(i)"]"===e&&i--;else if("("===e)o++;else if(")"===e&&!--o){a=r.index;break}}return e.slice(t,a)}(e,g);if(s&&er(h,eo`${eu}|\((?!\?)`,ee.DEFAULT))throw Error(`${"external"===a?"Backrefs":"Numbered backrefs"} cannot be used with recursion of capturing groups`);let y=e.slice(g,r.index),b=h.slice(y.length+t.length),C=o.length,k=m-1,w=eh(y,b,k,!0,n,o,d);i=em(i,y,k,o.length-C,C,d);let x=e.slice(0,g),S=e.slice(g+h.length);e=`${x}${w}${S}`,ep.lastIndex+=w.length-t.length-y.length-b.length,u.forEach(e=>e.hasRecursedWithin=!0),c=!0}else if(g)d++,l.set(String(d),ep.lastIndex),l.set(g,ep.lastIndex),u.push({num:d,name:g});else if("("===t[0]){let e="("===t;e&&(d++,l.set(String(d),ep.lastIndex)),u.push(e?{num:d}:{})}else")"===t&&u.pop()}return n.push(...o),{pattern:e,captureTransfers:i,hiddenCaptures:n}}(u.pattern,{captureTransfers:u._captureTransfers,hiddenCaptures:u._hiddenCaptures,mode:"external"}),p=function(e,t){let r,n=t?.hiddenCaptures??[],a=t?.captureTransfers??new Map;if(!/\(\?>/.test(e))return{pattern:e,captureTransfers:a,hiddenCaptures:n};let i="(?:(?=(",o=[0],s=[],l=0,u=0,c=NaN;do{let t;r=!1;let p=0,d=0,g=!1;for(en.lastIndex=Number.isNaN(c)?0:c+i.length;t=en.exec(e);){let{0:h,index:f,groups:{capturingStart:m,noncapturingStart:y}}=t;if("["===h)p++;else if(p)"]"===h&&p--;else if("(?>"!==h||g){if(g&&y)d++;else if(m)g?d++:(l++,o.push(l+u));else if(")"===h&&g){if(!d){let t=l+ ++u;e=`${e.slice(0,c)}${i}${e.slice(c+3,f)}))<$$${t}>)${e.slice(f+1)}`,r=!0,s.push(t);for(let e=0;e<n.length;e++)n[e]>=t&&n[e]++;if(a.size){let e=new Map;a.forEach((r,n)=>{e.set(n>=t?n+1:n,r.map(e=>e>=t?e+1:e))}),a=e}break}d--}}else c=f,g=!0}}while(r)return n.push(...s),{pattern:e=et(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:e,groups:{backrefNum:t,wrappedBackrefNum:r}})=>{if(t){let r=+t;if(r>o.length-1)throw Error(`Backref "${e}" greater than number of captures`);return`\\${o[r]}`}return`\\${r}`},ee.DEFAULT),captureTransfers:a,hiddenCaptures:n}}(function(e){let t;if(!RegExp(`${ea}\\+`).test(e))return{pattern:e};let r=[],n=null,a=null,i="",o=0;for(ei.lastIndex=0;t=ei.exec(e);){let{0:u,index:c,groups:{qBase:p,qMod:d,invalidQ:g}}=t;if("["===u)o||(a=c),o++;else if("]"===u)o?o--:a=null;else if(!o)if("+"===d&&i&&!i.startsWith("(")){if(g)throw Error(`Invalid quantifier "${u}"`);let t=-1;if(/^\{\d+\}$/.test(p)){var s,l;s=e,l=c+p.length,e=s.slice(0,l)+""+s.slice(l+d.length)}else{if(")"===i||"]"===i){let t=")"===i?n:a;if(null===t)throw Error(`Invalid unmatched "${i}"`);e=`${e.slice(0,t)}(?>${e.slice(t,c)}${p})${e.slice(c+u.length)}`}else e=`${e.slice(0,c-i.length)}(?>${i}${p})${e.slice(c+u.length)}`;t+=4}ei.lastIndex+=t}else"("===u[0]?r.push(c):")"===u&&(n=r.length?r.pop():null);i=u}return{pattern:e}}(c.pattern).pattern,{captureTransfers:c.captureTransfers,hiddenCaptures:c.hiddenCaptures}),d={pattern:p.pattern,flags:`${s.hasIndices?"d":""}${s.global?"g":""}${u.flags}${u.options.disable.v?"u":"v"}`};if(s.avoidSubclass){if(s.lazyCompileLength!==1/0)throw Error("Lazy compilation requires subclass")}else{let e=p.hiddenCaptures.sort((e,t)=>e-t),t=Array.from(p.captureTransfers),r=l._strategy,n=d.pattern.length>=s.lazyCompileLength;(e.length||t.length||r||n)&&(d.options={...e.length&&{hiddenCaptures:e},...t.length&&{transfers:t},...r&&{strategy:r},...n&&{lazyCompile:n}})}return d}(e,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...t})).options?new e9(r.pattern,r.flags,r.options):new RegExp(r.pattern,r.flags)}function e7(e={}){let t=Object.assign({target:"auto",cache:new Map},e);return t.regexConstructor||=e=>e6(e,{target:t.target}),{createScanner:e=>new o(e,t),createString:e=>({content:e})}}var te=(0,t.t)({bundledLanguages:()=>r.t,bundledLanguagesAlias:()=>r.n,bundledLanguagesBase:()=>r.r,bundledLanguagesInfo:()=>r.i,bundledThemes:()=>n.bundledThemes,bundledThemesInfo:()=>n.bundledThemesInfo,codeToHast:()=>a.codeToHast,codeToHtml:()=>a.codeToHtml,codeToTokens:()=>a.codeToTokens,codeToTokensBase:()=>a.codeToTokensBase,codeToTokensWithThemes:()=>a.codeToTokensWithThemes,createHighlighter:()=>a.createHighlighter,createJavaScriptRegexEngine:()=>e7,createOnigurumaEngine:()=>i.createOnigurumaEngine,defaultJavaScriptRegexConstructor:()=>e6,getLastGrammarState:()=>a.getLastGrammarState,getSingletonHighlighter:()=>a.getSingletonHighlighter,loadWasm:()=>i.loadWasm});(0,t.n)(te,a.t),e.s([],18433),e.i(18433);var tt=e.i(77313),tr=e.i(45546),tn=e.i(76114);e.s(["ShikiError",()=>tr.ShikiError,"addClassToHast",()=>tt.addClassToHast,"applyColorReplacements",()=>tn.applyColorReplacements,"codeToHast",()=>tt.codeToHast,"codeToHtml",()=>tt.codeToHtml,"codeToTokens",()=>tt.codeToTokens,"codeToTokensBase",()=>tt.codeToTokensBase,"codeToTokensWithThemes",()=>tn.codeToTokensWithThemes,"createBundledHighlighter",()=>tt.createBundledHighlighter,"createCssVariablesTheme",()=>tt.createCssVariablesTheme,"createHighlighterCore",()=>tt.createHighlighterCore,"createHighlighterCoreSync",()=>tt.createHighlighterCoreSync,"createPositionConverter",()=>tt.createPositionConverter,"createShikiInternal",()=>tn.createShikiInternal,"createShikiInternalSync",()=>tn.createShikiInternalSync,"createShikiPrimitive",()=>tn.createShikiPrimitive,"createShikiPrimitiveAsync",()=>tn.createShikiPrimitiveAsync,"createSingletonShorthands",()=>tt.createSingletonShorthands,"flatTokenVariants",()=>tt.flatTokenVariants,"getLastGrammarState",()=>tn.getLastGrammarState,"getSingletonHighlighterCore",()=>tt.getSingletonHighlighterCore,"getTokenStyleObject",()=>tt.getTokenStyleObject,"guessEmbeddedLanguages",()=>tt.guessEmbeddedLanguages,"hastToHtml",()=>tt.hastToHtml,"isNoneTheme",()=>tn.isNoneTheme,"isPlainLang",()=>tn.isPlainLang,"isSpecialLang",()=>tn.isSpecialLang,"isSpecialTheme",()=>tn.isSpecialTheme,"makeSingletonHighlighter",()=>tt.makeSingletonHighlighter,"makeSingletonHighlighterCore",()=>tt.makeSingletonHighlighterCore,"normalizeGetter",()=>tn.normalizeGetter,"normalizeTheme",()=>tn.normalizeTheme,"resolveColorReplacements",()=>tn.resolveColorReplacements,"splitLines",()=>tn.splitLines,"splitToken",()=>tt.splitToken,"splitTokens",()=>tt.splitTokens,"stringifyTokenStyle",()=>tt.stringifyTokenStyle,"toArray",()=>tn.toArray,"tokenizeAnsiWithTheme",()=>tt.tokenizeAnsiWithTheme,"tokenizeWithTheme",()=>tn.tokenizeWithTheme,"tokensToHast",()=>tt.tokensToHast,"transformerDecorations",()=>tt.transformerDecorations],90423),e.i(90423),e.s(["ShikiError",()=>tr.ShikiError,"addClassToHast",()=>tt.addClassToHast,"applyColorReplacements",()=>tn.applyColorReplacements,"bundledLanguages",()=>r.t,"bundledLanguagesAlias",()=>r.n,"bundledLanguagesBase",()=>r.r,"bundledLanguagesInfo",()=>r.i,"bundledThemes",()=>n.bundledThemes,"bundledThemesInfo",()=>n.bundledThemesInfo,"codeToHast",()=>a.codeToHast,"codeToHtml",()=>a.codeToHtml,"codeToTokens",()=>a.codeToTokens,"codeToTokensBase",()=>a.codeToTokensBase,"codeToTokensWithThemes",()=>a.codeToTokensWithThemes,"createBundledHighlighter",()=>tt.createBundledHighlighter,"createCssVariablesTheme",()=>tt.createCssVariablesTheme,"createHighlighter",()=>a.createHighlighter,"createHighlighterCore",()=>tt.createHighlighterCore,"createHighlighterCoreSync",()=>tt.createHighlighterCoreSync,"createJavaScriptRegexEngine",()=>e7,"createOnigurumaEngine",()=>i.createOnigurumaEngine,"createPositionConverter",()=>tt.createPositionConverter,"createShikiInternal",()=>tn.createShikiInternal,"createShikiInternalSync",()=>tn.createShikiInternalSync,"createShikiPrimitive",()=>tn.createShikiPrimitive,"createShikiPrimitiveAsync",()=>tn.createShikiPrimitiveAsync,"createSingletonShorthands",()=>tt.createSingletonShorthands,"defaultJavaScriptRegexConstructor",()=>e6,"flatTokenVariants",()=>tt.flatTokenVariants,"getLastGrammarState",()=>a.getLastGrammarState,"getSingletonHighlighter",()=>a.getSingletonHighlighter,"getSingletonHighlighterCore",()=>tt.getSingletonHighlighterCore,"getTokenStyleObject",()=>tt.getTokenStyleObject,"guessEmbeddedLanguages",()=>tt.guessEmbeddedLanguages,"hastToHtml",()=>tt.hastToHtml,"isNoneTheme",()=>tn.isNoneTheme,"isPlainLang",()=>tn.isPlainLang,"isSpecialLang",()=>tn.isSpecialLang,"isSpecialTheme",()=>tn.isSpecialTheme,"loadWasm",()=>i.loadWasm,"makeSingletonHighlighter",()=>tt.makeSingletonHighlighter,"makeSingletonHighlighterCore",()=>tt.makeSingletonHighlighterCore,"normalizeGetter",()=>tn.normalizeGetter,"normalizeTheme",()=>tn.normalizeTheme,"resolveColorReplacements",()=>tn.resolveColorReplacements,"splitLines",()=>tn.splitLines,"splitToken",()=>tt.splitToken,"splitTokens",()=>tt.splitTokens,"stringifyTokenStyle",()=>tt.stringifyTokenStyle,"toArray",()=>tn.toArray,"tokenizeAnsiWithTheme",()=>tt.tokenizeAnsiWithTheme,"tokenizeWithTheme",()=>tn.tokenizeWithTheme,"tokensToHast",()=>tt.tokensToHast,"transformerDecorations",()=>tt.transformerDecorations],24420)}]);